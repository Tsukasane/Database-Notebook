# 数据库笔记（BNU MOOC版）

## Chapter 2 关系模型 

[TOC]

### 2.1 关系结构与约束

* 同一表不能出现完全相同的行

* 数据库数据应该与现实世界时时保持一致

* 外键：必须匹配另一个关系表中的属性（可以是其中的某个值或者空值），必须是另一个关系中的主键或者复合主键。
* ==候选键一定是超键，超键不一定是候选键。一个关系中可能有多个候选键，用且仅用一个作为主键。==
* 数据是否是超键由属性本身决定，而不是观察给出的几行数据中有无重复而确定
* 关系数据表中一定有主键，单独一个属性不行的时候可以使用复合主键



### 2.2 关系操作

#### 基本关系代数运算

* 包含：选择、投影、并、差、笛卡尔积、更名运算
* 关系代数把表看成元组集合，关系运算的参数和结果都是关系，==所有关系代数运算都去重==
* 并和差运算只能在==相容的==关系之间进行



#### 附加关系代数运算

* 包含：交（相容）、自然联接、除、赋值
* 定义附加运算没有增加关系代数的表达能力

> 关系代数的基本运算足以表达任何关系代数查询，只是有时候这些查询表达式会很复杂，定义附加运算是为了简化表达式，没有增加表达能力。

<!--自然联接、属性联接、条件联接都是内联接-->



#### 扩展关系代数运算

* 外联接：考虑悬浮元组。e.g.未参与阅卷的考官的个人信息也出现

* 聚集运算：$G_{avg(erage)}(examiner)$

  <!--聚集函数运算符通常用G-->



